# 路由和路由协议

路由器主要负责解析一个请求并且决定什么module、controller、action被请求 ; 同时也定义了一种方法来实现用户自定义路由 , 这也使得它成为最重要的一个MVC组件 .

为了方便自定义路由 , Yaf现在采用了更为灵活的路由器和路由协议分离的模式 . 也就是一个固定不变的路由器 , 配合各种可自定义的路由协议 , 来实现灵活多变的路由策略 . 

路由组件有两个部分 : 路由器\(Yaf\_Router\)和路由协议\(Yaf\_Route\_Abstract\) . 

**路由协议**事实上主要负责匹配我们预先定义好的路由协议,意思就是我们只有一个路由器 , 但我们可以有许多路由协议 . 

**路由器**主要负责管理和运行路由链 , 它根据路由协议栈倒序依次调用各个路由协议 , 一直到某一个路由协议返回成功以后 , 就匹配成功.

